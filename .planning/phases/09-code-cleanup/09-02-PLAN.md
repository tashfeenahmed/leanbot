---
phase: 09-code-cleanup
plan: 02
type: execute
---

<objective>
Delete unused code: duplicate SkillExecutor, dead imports, and replace console.log with structured logger.

Purpose: Clean up technical debt after skills-only migration.
Output: Cleaner codebase with no duplicate files and proper logging.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-code-cleanup/09-01-SUMMARY.md

**Cleanup targets identified:**
1. `src/skills/SkillExecutor.ts` - Duplicate of executor.ts, NOT imported anywhere
2. `src/providers/moonshot.ts` - 6 console.log/error calls that should use logger
3. `src/channels/bot-config.ts` - 1 console.error that should use logger

**From codebase analysis:**
- SkillExecutor.ts (326 lines) is dead code - executor.ts (285 lines) is the active one
- moonshot.ts has debug logging via console instead of pino logger
- bot-config.ts has error logging via console
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete duplicate SkillExecutor.ts</name>
  <files>src/skills/SkillExecutor.ts</files>
  <action>
Delete the file `src/skills/SkillExecutor.ts` - it's a duplicate implementation that is NOT imported anywhere.

Verify first:
- grep -r "SkillExecutor" src/ to confirm only executor.ts imports are used
- The active implementation is in `src/skills/executor.ts`

Then delete the file.
  </action>
  <verify>ls src/skills/SkillExecutor.ts returns "No such file", npm run build succeeds</verify>
  <done>Duplicate SkillExecutor.ts deleted, only executor.ts remains</done>
</task>

<task type="auto">
  <name>Task 2: Replace console.log with logger in moonshot.ts</name>
  <files>src/providers/moonshot.ts</files>
  <action>
The MoonshotProvider needs a logger. Currently it uses console.log/error for debugging.

1. Read the file to find all console.log/error calls
2. Add logger to the provider options interface (follow OpenAIProvider pattern)
3. Replace each console call with appropriate logger call:
   - console.log → this.logger.debug or this.logger.info
   - console.error → this.logger.error
4. If MoonshotProvider doesn't have logger infrastructure, add optional logger parameter and only log when logger is provided

Keep the same information being logged, just use structured logger.
  </action>
  <verify>grep -n "console\." src/providers/moonshot.ts returns nothing, npm run build succeeds</verify>
  <done>moonshot.ts uses structured logger instead of console</done>
</task>

<task type="auto">
  <name>Task 3: Replace console.error with logger in bot-config.ts</name>
  <files>src/channels/bot-config.ts</files>
  <action>
1. Read the file to find the console.error call
2. Check if the function/class has access to a logger
3. If logger available, replace console.error with logger.error
4. If no logger available, either:
   - Add logger parameter to the function, OR
   - Use a silent fallback (just don't log) if it's non-critical

The file is bot-config.ts which handles Telegram bot configuration, so likely has access to logger from the channel.
  </action>
  <verify>grep -n "console\." src/channels/bot-config.ts returns nothing, npm run build succeeds</verify>
  <done>bot-config.ts uses structured logger instead of console</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `src/skills/SkillExecutor.ts` does not exist
- [ ] No console.log/error in moonshot.ts
- [ ] No console.log/error in bot-config.ts
- [ ] All logging uses pino structured logger
</verification>

<success_criteria>

- Duplicate SkillExecutor.ts deleted
- moonshot.ts uses structured logging
- bot-config.ts uses structured logging
- Build passes
- No console.* calls in non-CLI code
</success_criteria>

<output>
After completion, create `.planning/phases/09-code-cleanup/09-02-SUMMARY.md`
</output>
